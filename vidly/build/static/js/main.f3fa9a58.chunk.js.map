{"version":3,"sources":["reportWebVitals.js","services/logService.js","services/httpService.js","services/authService.js","components/common/protectedRoute.jsx","services/movieService.jsx","components/utils/pagination.jsx","components/common/genregroup.jsx","services/genreService.jsx","components/utils/like.jsx","components/movies/tableHeader.jsx","components/movies/tableBody.jsx","components/movies/table.jsx","components/movies/moviesTable.jsx","components/forms/input.jsx","components/forms/dropdown.jsx","components/forms/form.jsx","components/forms/search.jsx","components/movies/movies.jsx","components/utils/paginate.js","components/common/customers.jsx","components/common/rentals.jsx","components/common/not-found.jsx","components/common/navbar.jsx","components/common/movieform.jsx","components/forms/loginform.jsx","components/common/logout.jsx","services/userService.js","components/forms/registerform.jsx","App.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","init","log","error","console","setJwt","jwt","axios","defaults","headers","common","baseURL","process","interceptors","response","use","status","logger","toast","Promise","reject","get","post","put","delete","tokenKey","apiEndpoint","login","email","password","a","http","data","localStorage","setItem","getCurrentUser","getItem","jwtDecode","loginWithJwt","ProtectedRoute","path","Component","component","render","rest","props","to","pathname","state","from","location","getMovies","deleteMovie","movieId","getMovie","id","saveMovie","newMovie","_id","Pagination","itemsCount","pageSize","currentPage","onPageChange","pagesCount","Math","ceil","pages","i","push","Fragment","aria-label","className","map","page","onClick","GenreGroup","lgenres","genreClicked","selectedGenre","listgenres","g","name","getGenres","Like","classes","liked","aria-hidden","style","cursor","TableHeader","raiseSort","sortColumn","order","onSort","renderSortIcon","column","this","columns","label","key","TableBody","renderCell","item","content","_","Table","MoviesTable","movie","title","onLike","user","isAdmin","deleteColumn","onDelete","filtmovies","Input","htmlFor","DropDown","options","gen","disabled","value","Form","errors","validateProperty","obj","schema","Joi","validate","details","message","result","abortEarly","handleSubmit","e","preventDefault","setState","doSubmit","handleChange","input","currentTarget","errorMessage","type","placeholder","onChange","Search","Movies","movies","genres","deleteMov","mov","originalMovies","filter","handleLike","index","indexOf","handlePageChange","handleGenre","genre","handleSort","handleSearch","query","searchQuery","getPagedData","moviesLength","marginBottom","filtgenre","m","toLowerCase","includes","items","pageNumber","startIndex","slice","take","paginate","orderBy","length","Customers","Rentals","NotFound","NavBar","data-toggle","data-target","aria-controls","aria-expanded","MovieForm","genreId","numberInStock","dailyRentalRate","string","required","number","min","max","history","match","params","mapToViewModel","replace","onSubmit","renderInput","renderDropDown","renderButton","LoginForm","username","window","Logout","removeItem","register","RegisterForm","userService","App","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.f3fa9a58.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","function init() {}\nfunction log(error) {\n  console.error(error);\n}\nexport default {\n  init,\n  log,\n};\n","import axios from \"axios\";\nimport logger from \"./logService.js\";\nimport { toast } from \"react-toastify\";\n\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\n\naxios.interceptors.response.use(null, (error) => {\n  const expectedError =\n    error.response &&\n    error.response.status >= 400 &&\n    error.response.status < 500;\n\n  if (!expectedError) {\n    logger.log(error);\n    toast.error(\"Unexpected error occured\");\n  }\n  return Promise.reject(error);\n});\n\nexport function setJwt(jwt) {\n  axios.defaults.headers.common[\"x-auth-token\"] = jwt;\n}\nexport default {\n  get: axios.get,\n  post: axios.post,\n  put: axios.put,\n  delete: axios.delete,\n  setJwt,\n};\n","import http, { setJwt } from \"./httpService\";\nimport jwtDecode from \"jwt-decode\";\n\nconst tokenKey = \"token\";\nconst apiEndpoint = \"/auth\";\n\nsetJwt(getJwt());\n\nexport async function login(email, password) {\n  const { data: jwt } = await http.post(apiEndpoint, { email, password });\n  localStorage.setItem(tokenKey, jwt);\n}\n\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n}\n\nexport function getCurrentUser() {\n  try {\n    const jwt = localStorage.getItem(tokenKey);\n    const user = jwtDecode(jwt);\n    return user;\n  } catch (error) {\n    return null;\n  }\n}\n\nexport function loginWithJwt(jwt) {\n  localStorage.setItem(tokenKey, jwt);\n}\n\nexport function getJwt() {\n  return localStorage.getItem(tokenKey);\n}\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { getCurrentUser } from \"../../services/authService\";\n\nconst ProtectedRoute = ({ path, component: Component, render, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        if (!getCurrentUser())\n          return (\n            <Redirect\n              to={{\n                pathname: \"/login\",\n                state: { from: props.location },\n              }}\n            ></Redirect>\n          );\n        return Component ? <Component {...props}></Component> : render(props);\n      }}\n    ></Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import http from \"./httpService\";\n\nconst apiEndpoint = \"/movies\";\n\nexport const getMovies = async () => {\n  return http.get(apiEndpoint);\n};\n\nexport const deleteMovie = async (movieId) => {\n  return http.delete(apiEndpoint + \"/\" + movieId);\n};\n\nexport const getMovie = async (id) => {\n  return http.get(apiEndpoint + \"/\" + id);\n};\n\nexport const saveMovie = async (newMovie) => {\n  if (newMovie._id) {\n    const data = { ...newMovie };\n    delete data._id;\n    return http.put(apiEndpoint + \"/\" + newMovie._id, data);\n  }\n  return http.post(apiEndpoint, newMovie);\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst Pagination = (props) => {\n  const { itemsCount, pageSize, currentPage, onPageChange } = props;\n  const pagesCount = Math.ceil(itemsCount / pageSize);\n  let pages = [];\n  for (let i = 1; i <= pagesCount; i++) {\n    pages.push(i);\n  }\n  if (pagesCount === 1) return null;\n  return (\n    <React.Fragment>\n      <nav aria-label=\"Page navigation example\">\n        <ul className=\"pagination\">\n          {pages.map((page) => (\n            <li\n              key={page}\n              className={\n                page === currentPage ? \"page-item active\" : \"page-item\"\n              }\n            >\n              <a className=\"page-link\" onClick={() => onPageChange(page)}>\n                {page}\n              </a>\n            </li>\n          ))}\n        </ul>\n      </nav>\n    </React.Fragment>\n  );\n};\nPagination.propTypes = {\n  itemsCount: PropTypes.number.isRequired,\n  pageSize: PropTypes.number.isRequired,\n  currentPage: PropTypes.number.isRequired,\n  onPageChange: PropTypes.func.isRequired,\n};\n\nexport default Pagination;\n","import React from \"react\";\n\nconst GenreGroup = (props) => {\n  const { lgenres, genreClicked, selectedGenre } = props;\n\n  if (!lgenres) return null;\n\n  const listgenres = lgenres.map((g) => (\n    <li\n      key={g._id}\n      className={\n        selectedGenre === g.name\n          ? \"list-group-item list-group-item-action active\"\n          : \"list-group-item list-group-item-action\"\n      }\n      onClick={() => genreClicked(g.name)}\n    >\n      {g.name}\n    </li>\n  ));\n\n  return <ul className=\"list-group\">{listgenres}</ul>;\n};\n\nexport default GenreGroup;\n","import http from \"./httpService.js\";\n\nconst apiEndpoint = \"/genres\";\nexport function getGenres() {\n  return http.get(apiEndpoint);\n}\n","import React from \"react\";\n\nconst Like = (props) => {\n  let classes = \"fa fa-heart\";\n  if (!props.liked) classes += \"-o\";\n  return (\n    <i\n      onClick={props.onClick}\n      className={classes}\n      aria-hidden=\"true\"\n      style={{ cursor: \"pointer\" }}\n    ></i>\n  );\n};\n\nexport default Like;\n","import React, { Component } from \"react\";\n\n//columns :array\n// sort Column: object\n// onsort: function\n\nclass TableHeader extends Component {\n  raiseSort = (path) => {\n    const sortColumn = { ...this.props.sortColumn };\n    if (sortColumn.path === path) {\n      sortColumn.order = sortColumn.order === \"asc\" ? \"desc\" : \"asc\";\n    } else {\n      sortColumn.path = path;\n      sortColumn.order = \"asc\";\n    }\n    this.props.onSort(sortColumn);\n  };\n  renderSortIcon = (column) => {\n    if (column.path !== this.props.sortColumn.path) return null;\n    if (this.props.sortColumn.order === \"asc\")\n      return <i className=\"fa fa-sort-asc\"></i>;\n    return <i className=\"fa fa-sort-desc\"></i>;\n  };\n  render() {\n    return (\n      <thead>\n        <tr>\n          {this.props.columns.map((column) => (\n            <th\n              className=\"clickable\"\n              key={column.path || column.key}\n              onClick={() => this.raiseSort(column.path)}\n            >\n              {column.label} {this.renderSortIcon(column)}\n            </th>\n          ))}\n        </tr>\n      </thead>\n    );\n  }\n}\n\nexport default TableHeader;\n","import React, { Component } from \"react\";\nimport _ from \"lodash\";\n\nclass TableBody extends Component {\n  renderCell = (item, column) => {\n    if (column.content) {\n      return column.content(item);\n    }\n    return _.get(item, column.path);\n  };\n  render() {\n    const { data, columns } = this.props;\n    return (\n      <tbody>\n        {data.map((item) => (\n          <tr key={item._id}>\n            {columns.map((column) => (\n              <td key={item._id + (column.path || column.key)}>\n                {this.renderCell(item, column)}\n              </td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    );\n  }\n}\n\nexport default TableBody;\n","import React from \"react\";\n\nimport TableHeader from \"./tableHeader\";\nimport TableBody from \"./tableBody\";\n\nconst Table = ({ columns, sortColumn, onSort, data }) => {\n  return (\n    <table className=\"table\">\n      <TableHeader\n        columns={columns}\n        sortColumn={sortColumn}\n        onSort={onSort}\n      ></TableHeader>\n      <TableBody data={data} columns={columns} />\n    </table>\n  );\n};\n\nexport default Table;\n","import React, { Component } from \"react\";\nimport Like from \"../utils/like\";\nimport Table from \"./table\";\nimport { Link } from \"react-router-dom\";\nimport { getCurrentUser } from \"../../services/authService\";\nclass MoviesTable extends Component {\n  columns = [\n    {\n      path: \"title\",\n      label: \"Title\",\n      content: (movie) => (\n        <Link to={`/movies/${movie._id}`}>{movie.title}</Link>\n      ),\n    },\n    { path: \"genre.name\", label: \"Genre\" },\n    { path: \"numberInStock\", label: \"Stock\" },\n    { path: \"dailyRentalRate\", label: \"Rate\" },\n    {\n      key: \"like\",\n      content: (movie) => (\n        <Like\n          liked={movie.liked}\n          onClick={() => this.props.onLike(movie)}\n        ></Like>\n      ),\n    },\n  ];\n\n  constructor() {\n    super();\n    const user = getCurrentUser();\n    if (user && user.isAdmin) this.columns.push(this.deleteColumn());\n  }\n  deleteColumn() {\n    return {\n      key: \"delete\",\n      content: (movie) => (\n        <button\n          onClick={() => this.props.onDelete(movie)}\n          className=\"btn btn-danger btn-sm\"\n        >\n          Delete\n        </button>\n      ),\n    };\n  }\n\n  render() {\n    const { filtmovies, sortColumn, onSort } = this.props;\n\n    return (\n      <Table\n        columns={this.columns}\n        data={filtmovies}\n        sortColumn={sortColumn}\n        onSort={onSort}\n      ></Table>\n    );\n  }\n}\n\nexport default MoviesTable;\n","import React from \"react\";\n\nconst Input = ({ name, label, error, ...rest }) => {\n  return (\n    <div className=\"form-group\">\n      <label htmlFor={name}>{label}</label>\n      <input {...rest} id={name} name={name} className=\"form-control\" />\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n    </div>\n  );\n};\n\nexport default Input;\n","import React from \"react\";\n\nconst DropDown = ({ name, label, error, options, ...rest }) => {\n  return (\n    <div className=\"form-group\">\n      <label htmlFor={name}>{label}</label>\n      <select {...rest} id={name} name={name} className=\"form-control\">\n        {options.map((gen) => {\n          if (gen.name === \"All Genres\" || gen.name === null)\n            return <option disabled></option>;\n          return (\n            <option key={gen._id} value={gen._id}>\n              {gen.name}\n            </option>\n          );\n        })}\n      </select>\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n    </div>\n  );\n};\n\nexport default DropDown;\n","import React, { Component } from \"react\";\nimport Joi from \"joi-browser\";\nimport Input from \"./input\";\nimport DropDown from \"./dropdown\";\nclass Form extends Component {\n  state = { data: {}, errors: {} };\n\n  validateProperty = ({ name, value }) => {\n    const obj = { [name]: value };\n    const schema = { [name]: this.schema[name] };\n    const { error } = Joi.validate(obj, schema);\n    return error ? error.details[0].message : null;\n  };\n\n  validate = () => {\n    const result = Joi.validate(this.state.data, this.schema, {\n      abortEarly: false,\n    });\n    if (!result.error) return null;\n    const errors = {};\n    for (let item of result.error.details) errors[item.path[0]] = item.message;\n    return errors;\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    const errors = this.validate();\n    this.setState({ errors: errors || {} });\n    if (errors) return;\n\n    this.doSubmit();\n  };\n\n  handleChange = ({ currentTarget: input }) => {\n    const errors = { ...this.state.errors };\n    const errorMessage = this.validateProperty(input);\n    if (errorMessage) errors[input.name] = errorMessage;\n    else delete errors[input.name];\n\n    const data = { ...this.state.data };\n    data[input.name] = input.value;\n\n    this.setState({ data, errors });\n  };\n  renderButton(label) {\n    return (\n      <button disabled={this.validate()} className=\"btn btn-primary\">\n        {label}\n      </button>\n    );\n  }\n  renderInput(name, label, type = \"text\", placeholder = \"\") {\n    const { data, errors } = this.state;\n\n    return (\n      <Input\n        name={name}\n        value={data[name]}\n        label={label}\n        onChange={this.handleChange}\n        error={errors[name]}\n        type={type}\n        placeholder={placeholder}\n      ></Input>\n    );\n  }\n  renderDropDown(name, label, options) {\n    const { data, errors } = this.state;\n\n    return (\n      <DropDown\n        name={name}\n        value={data[name]}\n        label={label}\n        onChange={this.handleChange}\n        error={errors[name]}\n        options={options}\n      ></DropDown>\n    );\n  }\n}\n\nexport default Form;\n","import React from \"react\";\n\nconst Search = ({ value, onChange }) => {\n  return (\n    <input\n      type=\"text\"\n      name=\"query\"\n      className=\"form-control my-3\"\n      placeholder=\"Search ...\"\n      value={value}\n      onChange={(e) => onChange(e.currentTarget.value)}\n    ></input>\n  );\n};\n\nexport default Search;\n","import React from \"react\";\nimport { getMovies, deleteMovie } from \"../../services/movieService\";\nimport Pagination from \"../utils/pagination\";\nimport { paginate } from \"../utils/paginate\";\nimport GenreGroup from \"../common/genregroup\";\nimport { getGenres } from \"../../services/genreService\";\nimport MoviesTable from \"./moviesTable\";\nimport _ from \"lodash\";\nimport { Link } from \"react-router-dom\";\nimport Form from \"../forms/form\";\nimport Search from \"../forms/search\";\nimport { toast } from \"react-toastify\";\n\nclass Movies extends Form {\n  state = {\n    movies: \"\",\n    pageSize: 5,\n    currentPage: 1,\n    genres: \"\",\n    selectedGenre: \"All Genres\",\n    sortColumn: { path: \"title\", order: \"asc\" },\n  };\n\n  async componentDidMount() {\n    const { data } = await getGenres();\n    const { data: movies } = await getMovies();\n    const genres = [{ _id: \"\", name: \"All Genres\" }, ...data];\n    this.setState({ genres, movies });\n  }\n\n  render() {\n    const {\n      pageSize,\n      currentPage,\n      movies,\n      selectedGenre,\n      genres,\n      sortColumn,\n      searchQuery,\n    } = this.state;\n\n    if (!movies) return null;\n\n    const { moviesLength, filtmovies } = this.getPagedData(\n      movies,\n      selectedGenre,\n      sortColumn,\n      currentPage,\n      pageSize,\n      searchQuery\n    );\n    const { user } = this.props;\n    return (\n      <React.Fragment>\n        <div className=\"row mx-auto\">\n          <div className=\"col-3\">\n            <GenreGroup\n              lgenres={genres}\n              genreClicked={this.handleGenre}\n              selectedGenre={selectedGenre}\n            />\n          </div>\n          <div className=\"col\">\n            {user && (\n              <button\n                className=\"btn btn-primary btn-submit\"\n                style={{ marginBottom: 20 }}\n              >\n                <Link to=\"movies/new\">New Movie</Link>\n              </button>\n            )}\n            <h3>Showing {moviesLength} movies in the database.</h3>\n\n            <Search\n              value={this.state.query}\n              onChange={this.handleSearch}\n            ></Search>\n            <MoviesTable\n              filtmovies={filtmovies}\n              onLike={this.handleLike}\n              onDelete={this.deleteMov}\n              onSort={this.handleSort}\n              sortColumn={sortColumn}\n              user={user}\n            ></MoviesTable>\n            <Pagination\n              itemsCount={moviesLength}\n              pageSize={pageSize}\n              onPageChange={this.handlePageChange}\n              currentPage={currentPage}\n            ></Pagination>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n\n  deleteMov = async (mov) => {\n    const originalMovies = this.state.movies;\n    const movies = originalMovies.filter((movie) => movie._id !== mov._id);\n    this.setState({ movies });\n    try {\n      await deleteMovie(mov._id);\n    } catch (e) {\n      if (e.response && e.response.status === 404) {\n        toast.error(\"This movie is not found. Already Deleted?\");\n        this.setState({ movies: originalMovies });\n      }\n      if (e.response && e.response.status === 403) {\n        toast.error(\"Access Denied\");\n        this.setState({ movies: originalMovies });\n      }\n    }\n  };\n\n  handleLike = (mov) => {\n    const movies = [...this.state.movies];\n    const index = movies.indexOf(mov);\n    movies[index] = { ...movies[index] };\n    movies[index].liked = !movies[index].liked;\n    this.setState({ movies });\n  };\n\n  handlePageChange = (page) => {\n    this.setState({ currentPage: page });\n  };\n  handleGenre = (genre) => {\n    this.setState({ selectedGenre: genre, currentPage: 1 });\n  };\n  handleSort = (sortColumn) => {\n    this.setState({ sortColumn });\n  };\n\n  handleSearch = (query) => {\n    this.setState({ selectedGenre: null, currentPage: 1, searchQuery: query });\n  };\n\n  getPagedData(\n    movies,\n    selectedGenre,\n    sortColumn,\n    currentPage,\n    pageSize,\n    searchQuery\n  ) {\n    const filtgenre = movies.filter((m) => {\n      if (searchQuery) {\n        return m.title.toLowerCase().includes(searchQuery.toLowerCase());\n      } else if (selectedGenre === \"All Genres\" || selectedGenre === null)\n        return m;\n      return m.genre.name === selectedGenre ? m : \"\";\n    });\n\n    const sorted = _.orderBy(filtgenre, [sortColumn.path], [sortColumn.order]);\n\n    const filtmovies = paginate(sorted, currentPage, pageSize);\n    const moviesLength = filtgenre.length;\n    return { moviesLength, filtmovies };\n  }\n}\n\nexport default Movies;\n","import _ from \"lodash\";\n\nexport function paginate(items, pageNumber, pageSize) {\n  const startIndex = (pageNumber - 1) * pageSize;\n  return _(items).slice(startIndex).take(pageSize).value();\n}\n","import React from \"react\";\n\nconst Customers = (props) => {\n  return <h1>Customers</h1>;\n};\n\nexport default Customers;\n","import React from \"react\";\n\nconst Rentals = (props) => {\n  return <h1>Rentals</h1>;\n};\n\nexport default Rentals;\n","import React from \"react\";\n\nconst NotFound = () => {\n  return <h1>404 Not Found</h1>;\n};\n\nexport default NotFound;\n","import React from \"react\";\nimport { Link, NavLink } from \"react-router-dom\";\n\nconst NavBar = ({ user }) => {\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <Link className=\"navbar-brand\" to=\"/movies\">\n        Vidly\n      </Link>\n      <button\n        className=\"navbar-toggler\"\n        type=\"button\"\n        data-toggle=\"collapse\"\n        data-target=\"#navbarNavAltMarkup\"\n        aria-controls=\"navbarNavAltMarkup\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n      >\n        <span className=\"navbar-toggler-icon\"></span>\n      </button>\n      <div className=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\n        <div className=\"navbar-nav\">\n          <NavLink className=\"nav-item nav-link\" to=\"/movies\">\n            Movies\n          </NavLink>\n          <NavLink className=\"nav-item nav-link\" to=\"/customers\">\n            Customers\n          </NavLink>\n          <NavLink className=\"nav-item nav-link\" to=\"/rentals\">\n            Rentals\n          </NavLink>\n          {!user && (\n            <React.Fragment>\n              <NavLink className=\"nav-item nav-link\" to=\"/login\">\n                Login\n              </NavLink>\n              <NavLink className=\"nav-item nav-link\" to=\"/register\">\n                Register\n              </NavLink>\n            </React.Fragment>\n          )}\n          {user && (\n            <React.Fragment>\n              <NavLink className=\"nav-item nav-link\" to=\"/profile\">\n                {user.name}\n              </NavLink>\n              <NavLink className=\"nav-item nav-link\" to=\"/logout\">\n                Logout\n              </NavLink>\n            </React.Fragment>\n          )}\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default NavBar;\n","import React from \"react\";\nimport Form from \"../forms/form\";\nimport Joi from \"joi-browser\";\nimport { getGenres } from \"../../services/genreService\";\nimport { getMovie, saveMovie } from \"../../services/movieService\";\nclass MovieForm extends Form {\n  state = {\n    data: {\n      title: \"\",\n      genreId: \"\",\n      numberInStock: \"\",\n      dailyRentalRate: \"\",\n    },\n    genres: \"\",\n    errors: {},\n  };\n  schema = {\n    _id: Joi.string(),\n    title: Joi.string().required().label(\"Title\"),\n    genreId: Joi.string().required().label(\"Genre\"),\n    numberInStock: Joi.number().required().min(0).max(100).label(\"Stock\"),\n    dailyRentalRate: Joi.number().required().min(0).max(5).label(\"Rate\"),\n  };\n\n  async componentDidMount() {\n    // Populating Genres\n\n    const { data } = await getGenres();\n    this.setState({ genres: data });\n\n    // Populating Movies\n\n    try {\n      const movieId = this.props.match.params.id;\n      if (movieId === \"new\") return;\n      const { data: movie } = await getMovie(movieId);\n      this.setState({\n        data: this.mapToViewModel(movie),\n      });\n    } catch (e) {\n      if (e.response && e.response.status === 404)\n        this.props.history.replace(\"/not-found\");\n    }\n  }\n\n  mapToViewModel(mov) {\n    return {\n      _id: mov._id,\n      title: mov.title,\n      genreId: mov.genre._id,\n      numberInStock: mov.numberInStock,\n      dailyRentalRate: mov.dailyRentalRate,\n    };\n  }\n\n  doSubmit = async () => {\n    await saveMovie(this.state.data);\n    this.props.history.push(\"/movies\");\n  };\n\n  render() {\n    const { match } = this.props;\n    if (!this.state.genres) return null;\n    return (\n      <div>\n        <h1>MovieForm {match.params.id} </h1>\n\n        <form onSubmit={this.handleSubmit}>\n          {this.renderInput(\"title\", \"Title\")}\n          {this.renderDropDown(\"genreId\", \"Genre\", this.state.genres)}\n          {this.renderInput(\"numberInStock\", \"Number in Stock\", \"number\")}\n          {this.renderInput(\"dailyRentalRate\", \"Rate\")}\n          {this.renderButton(\"Save\")}\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default MovieForm;\n","import React from \"react\";\nimport Joi from \"joi-browser\";\nimport Form from \"./form\";\nimport { login, getCurrentUser } from \"../../services/authService\";\nimport { Redirect } from \"react-router-dom\";\nclass LoginForm extends Form {\n  state = {\n    data: {\n      username: \"\",\n      password: \"\",\n    },\n    errors: {},\n  };\n  schema = {\n    username: Joi.string().required().label(\"Username\"),\n    password: Joi.string().required().label(\"Password\"),\n  };\n  doSubmit = async () => {\n    try {\n      const { username, password } = this.state.data;\n      await login(username, password);\n      const { state } = this.props.location;\n      window.location = state ? state.from.pathname : \"/\";\n    } catch (e) {\n      if (e.response && e.response.status === 400) {\n        const errors = { ...this.state.errors };\n        errors.username = e.response.data;\n        this.setState({ errors });\n      }\n    }\n  };\n  render() {\n    if (getCurrentUser()) return <Redirect to=\"/\"></Redirect>;\n    return (\n      <div>\n        <h1>Login</h1>\n        <form onSubmit={this.handleSubmit}>\n          {this.renderInput(\"username\", \"Username\")}\n\n          {this.renderInput(\"password\", \"Password\", \"password\")}\n\n          {this.renderButton(\"Login\")}\n        </form>\n      </div>\n    );\n  }\n}\nexport default LoginForm;\n","import React, { Component } from \"react\";\nimport { logout } from \"../../services/authService\";\n\nclass Logout extends Component {\n  componentDidMount() {\n    logout();\n    window.location = \"/\";\n  }\n\n  render() {\n    return null;\n  }\n}\n\nexport default Logout;\n","import http from \"./httpService\";\n\nconst apiEndpoint = \"/users\";\n\nexport function register(user) {\n  return http.post(apiEndpoint, {\n    email: user.email,\n    password: user.password,\n    name: user.name,\n  });\n}\n","import React from \"react\";\nimport Form from \"./form\";\nimport Joi from \"joi-browser\";\nimport { loginWithJwt } from \"../../services/authService\";\nimport * as userService from \"../../services/userService\";\nclass RegisterForm extends Form {\n  state = {\n    data: { email: \"\", password: \"\", name: \"\" },\n    errors: {},\n  };\n  schema = {\n    email: Joi.string().required().email().label(\"Username\"),\n    password: Joi.string().required().min(5).label(\"Password\"),\n    name: Joi.string().required().label(\"Name\"),\n  };\n  doSubmit = async () => {\n    try {\n      const response = await userService.register(this.state.data);\n      loginWithJwt(response.headers[\"x-auth-token\"]);\n      window.location = \"/\";\n    } catch (e) {\n      if (e.response && e.response.status === 400) {\n        const errors = { ...this.state.errors };\n        errors.email = e.response.data;\n        this.setState({ errors });\n      }\n    }\n  };\n  render() {\n    return (\n      <div>\n        <h1>Register</h1>\n        <form onSubmit={this.handleSubmit}>\n          {this.renderInput(\"email\", \"Username/E-mail\")}\n\n          {this.renderInput(\"password\", \"Password\", \"password\")}\n\n          {this.renderInput(\"name\", \"Name\")}\n\n          {this.renderButton(\"Register\")}\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default RegisterForm;\n","import React, { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport { Switch, Redirect, Route } from \"react-router-dom\";\nimport ProtectedRoute from \"./components/common/protectedRoute\";\nimport Movies from \"./components/movies/movies\";\nimport Customers from \"./components/common/customers\";\nimport Rentals from \"./components/common/rentals\";\nimport NotFound from \"./components/common/not-found\";\nimport NavBar from \"./components/common/navbar\";\nimport MovieForm from \"./components/common/movieform\";\nimport LoginForm from \"./components/forms/loginform\";\nimport Logout from \"./components/common/logout\";\nimport RegisterForm from \"./components/forms/registerform\";\nimport \"./App.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { getCurrentUser } from \"./services/authService\";\n\nclass App extends Component {\n  state = {\n    user: \"\",\n  };\n\n  componentDidMount() {\n    const user = getCurrentUser();\n    this.setState({ user });\n  }\n\n  render() {\n    const { user } = this.state;\n    return (\n      <React.Fragment>\n        <ToastContainer></ToastContainer>\n        <NavBar user={user} />\n        <main className=\"container\">\n          <Switch>\n            <Route path=\"/register\" component={RegisterForm}></Route>\n            <Route path=\"/login\" component={LoginForm}></Route>\n            <Route path=\"/logout\" component={Logout}></Route>\n            <ProtectedRoute\n              path=\"/movies/:id\"\n              component={MovieForm}\n            ></ProtectedRoute>\n            <Route\n              path=\"/movies\"\n              render={(props) => <Movies {...props} user={user}></Movies>}\n            ></Route>\n            <Route path=\"/customers\" component={Customers}></Route>\n            <Route path=\"/rentals\" component={Rentals}></Route>\n            <Route path=\"/not-found\" component={NotFound}></Route>\n            <Redirect from=\"/\" exact to=\"/movies\"></Redirect>\n            <Redirect to=\"/not-found\"></Redirect>\n          </Switch>\n        </main>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"font-awesome/css/font-awesome.css\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}